# Sync Tasks

Update the project dashboard (task-overview.md) from task JSON files.

## Usage
```
/sync-tasks
```

## Process

1. Read all `.claude/tasks/task-*.json` files (active tasks only)
2. Calculate statistics by owner and status
3. **Preserve user notes section** (content between `<!-- USER SECTION -->` markers)
4. Generate dashboard with user-facing summary at top
5. Generate full task list at bottom
6. Add archive summary if tasks have been archived
7. Write to `.claude/tasks/task-overview.md`

## Output Format

```markdown
# Project Dashboard

*Auto-generated by /sync-tasks. Last updated: {date}*

## Quick Status

| Total | Done | â— You | ğŸ¤– Claude | ğŸ‘¥ Both | Blocked |
|-------|------|--------|-----------|---------|---------|
| 15    | 7    | 3      | 4         | 1       | 2       |

*(Counts show pending/actionable tasks per owner, plus blocked across all)*

## â— Your Actions

### Ready Now
| ID | Task | Difficulty |
|----|------|------------|
| 5  | Configure API keys | 2 |

### Waiting On Claude
| ID | Task | Blocked By |
|----|------|------------|
| 8  | Deploy to production | #7 (Claude building API) |

## ğŸ¤– Claude Status

### In Progress
| ID | Task |
|----|------|
| 7  | Build REST API |

### Ready to Start
| ID | Task | Difficulty |
|----|------|------------|
| 9  | Write unit tests | 4 |

### Blocked
| ID | Task | Blocked By |
|----|------|------------|
| 10 | Integration tests | #9 (unit tests) |

## ğŸ’¡ Notes & Ideas

<!-- USER SECTION - Claude preserves this on sync -->

[Your notes here - add ideas, questions, reminders]

<!-- END USER SECTION -->

---

## All Tasks

| ID | Title | Status | Diff | Owner | Deps |
|----|-------|--------|------|-------|------|
| 1  | Setup project | Finished | 3 | ğŸ¤– | - |
| 5  | Configure keys | Pending | 2 | â— | - |
| 7  | Build REST API | In Progress | 5 | ğŸ¤– | - |
| 8  | Deploy to prod | Pending | 3 | â— | #7 |

*Summary: 7/15 complete (47%)*
```

## Owner Field

See `shared-definitions.md` for full owner definitions. Summary:
- `claude` (default) â†’ ğŸ¤– Claude Status
- `human` â†’ â— Your Actions
- `both` â†’ ğŸ‘¥ Appears in BOTH sections with ğŸ‘¥ marker

## Ready vs Blocked Logic

**Ready Now**: Task is `Pending` AND all dependencies are `Finished`

**Waiting/Blocked**: Task is `Pending` AND has unfinished dependencies

## User Notes Preservation

The `<!-- USER SECTION -->` block is preserved across syncs:
1. Before generating, extract existing user section content
2. After generating, insert preserved content back
3. If no user section exists, create empty template

## When to Run
- After completing any task
- After breaking down a task
- When starting a work session
- After archiving tasks
